{
  "swagger": "2.0",
  "info": {
    "title": "Backend EasyTrufi API",
    "description": "Documentación de la API de EasyTrufi - .NET 8",
    "contact": {
      "name": "Equipo de Desarrollo UCB",
      "email": "carlos.camacho.h@ucb.edu.bo"
    },
    "version": "v1"
  },
  "paths": {
    "/api/Driver": {
      "get": {
        "tags": [
          "Driver"
        ],
        "summary": "Obtiene una lista de conductores con soporte para paginación y filtros.",
        "parameters": [
          {
            "in": "query",
            "name": "Cedula",
            "type": "string"
          },
          {
            "in": "query",
            "name": "FullName",
            "type": "string"
          },
          {
            "in": "query",
            "name": "Active",
            "type": "boolean"
          },
          {
            "in": "query",
            "name": "PageSize",
            "type": "integer",
            "format": "int32"
          },
          {
            "in": "query",
            "name": "PageNumber",
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Driver"
        ],
        "summary": "Inserta un nuevo conductor en el sistema.",
        "consumes": [
          "application/json-patch+json",
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "DTO con la información del conductor a insertar.",
            "schema": {
              "$ref": "#/definitions/DriverDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Driver/{id}": {
      "get": {
        "tags": [
          "Driver"
        ],
        "summary": "Obtiene un conductor específico por su identificador.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Identificador único del conductor.",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": [
          "Driver"
        ],
        "summary": "Actualiza la información de un conductor existente.",
        "consumes": [
          "application/json-patch+json",
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Identificador único del conductor a actualizar.",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "in": "body",
            "name": "body",
            "description": "DTO con la nueva información del conductor.",
            "schema": {
              "$ref": "#/definitions/DriverDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "Driver"
        ],
        "summary": "Elimina un conductor del sistema.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Identificador único del conductor a eliminar.",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/NfcCard": {
      "get": {
        "tags": [
          "NfcCard"
        ],
        "summary": "Recupera una lista de todas las tarjetas NFC registradas en el sistema.",
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "responses": {
          "200": {
            "description": "Retorna la lista de tarjetas NFC",
            "schema": {
              "$ref": "#/definitions/NfcCardDTOIEnumerableApiResponse"
            }
          },
          "500": {
            "description": "Error interno del servidor"
          }
        }
      },
      "post": {
        "tags": [
          "NfcCard"
        ],
        "summary": "Inserta una nueva tarjeta NFC en el sistema.",
        "consumes": [
          "application/json-patch+json",
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "El objeto DTO que contiene los datos de la tarjeta NFC a insertar.",
            "schema": {
              "$ref": "#/definitions/NfcCardDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tarjeta NFC creada exitosamente",
            "schema": {
              "$ref": "#/definitions/NfcCardApiResponse"
            }
          },
          "400": {
            "description": "Datos inválidos para la creación de la tarjeta NFC",
            "schema": {
              "$ref": "#/definitions/ProblemDetails"
            }
          }
        }
      }
    },
    "/api/NfcCard/{id}": {
      "get": {
        "tags": [
          "NfcCard"
        ],
        "summary": "Recupera una tarjeta NFC específica por su identificador único.",
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "El identificador único de la tarjeta NFC.",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "200": {
            "description": "Retorna la tarjeta NFC solicitada",
            "schema": {
              "$ref": "#/definitions/NfcCardDTOApiResponse"
            }
          },
          "404": {
            "description": "Tarjeta NFC no encontrada",
            "schema": {
              "$ref": "#/definitions/ProblemDetails"
            }
          }
        }
      },
      "put": {
        "tags": [
          "NfcCard"
        ],
        "summary": "Actualiza los datos de una tarjeta NFC existente.",
        "consumes": [
          "application/json-patch+json",
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "El identificador único de la tarjeta NFC a actualizar.",
            "required": true,
            "type": "integer",
            "format": "int32"
          },
          {
            "in": "body",
            "name": "body",
            "description": "El objeto DTO que contiene los nuevos datos de la tarjeta NFC.",
            "schema": {
              "$ref": "#/definitions/NfcCardDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tarjeta NFC actualizada exitosamente",
            "schema": {
              "$ref": "#/definitions/NfcCardApiResponse"
            }
          },
          "404": {
            "description": "Tarjeta NFC no encontrada",
            "schema": {
              "$ref": "#/definitions/ProblemDetails"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "NfcCard"
        ],
        "summary": "Elimina una tarjeta NFC del sistema.",
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "El identificador único de la tarjeta NFC a eliminar.",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "204": {
            "description": "Tarjeta NFC eliminada exitosamente"
          },
          "404": {
            "description": "Tarjeta NFC no encontrada",
            "schema": {
              "$ref": "#/definitions/ProblemDetails"
            }
          }
        }
      }
    },
    "/api/NfcCard/{id}/balance": {
      "get": {
        "tags": [
          "NfcCard"
        ],
        "summary": "Comprueba el saldo de una tarjeta NFC sumando sus topups y restando sus pagos.",
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Identificador de la tarjeta NFC.",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/ObjectApiResponse"
            }
          },
          "404": {
            "description": "Not Found",
            "schema": {
              "$ref": "#/definitions/ProblemDetails"
            }
          }
        }
      }
    },
    "/api/Payment": {
      "get": {
        "tags": [
          "Payment"
        ],
        "summary": "Recupera una lista paginada de pagos realizados en el sistema.",
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "NfcCardId",
            "type": "integer",
            "format": "int64"
          },
          {
            "in": "query",
            "name": "UserId",
            "type": "integer",
            "format": "int64"
          },
          {
            "in": "query",
            "name": "AmountCents",
            "type": "integer",
            "format": "int64"
          },
          {
            "in": "query",
            "name": "ValidatorId",
            "type": "string"
          },
          {
            "in": "query",
            "name": "PageSize",
            "type": "integer",
            "format": "int32"
          },
          {
            "in": "query",
            "name": "PageNumber",
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "200": {
            "description": "Retorna la lista de pagos",
            "schema": {
              "$ref": "#/definitions/PaymentDTOIEnumerableApiResponse"
            }
          },
          "500": {
            "description": "Error interno del servidor"
          }
        }
      },
      "post": {
        "tags": [
          "Payment"
        ],
        "summary": "Inserta un nuevo pago en el sistema.",
        "consumes": [
          "application/json-patch+json",
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "El objeto DTO que contiene los datos del pago a insertar.",
            "schema": {
              "$ref": "#/definitions/PaymentDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Pago creado exitosamente",
            "schema": {
              "$ref": "#/definitions/PaymentApiResponse"
            }
          },
          "400": {
            "description": "Datos inválidos para la creación del pago",
            "schema": {
              "$ref": "#/definitions/ProblemDetails"
            }
          }
        }
      }
    },
    "/api/Payment/{id}": {
      "get": {
        "tags": [
          "Payment"
        ],
        "summary": "Recupera un pago específico por su identificador único.",
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "El identificador único del pago.",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "Retorna el pago solicitado",
            "schema": {
              "$ref": "#/definitions/PaymentDTOApiResponse"
            }
          },
          "404": {
            "description": "Pago no encontrado",
            "schema": {
              "$ref": "#/definitions/ProblemDetails"
            }
          }
        }
      },
      "put": {
        "tags": [
          "Payment"
        ],
        "summary": "Actualiza los datos de un pago existente.",
        "consumes": [
          "application/json-patch+json",
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "El identificador único del pago a actualizar.",
            "required": true,
            "type": "integer",
            "format": "int32"
          },
          {
            "in": "body",
            "name": "body",
            "description": "El objeto DTO que contiene los nuevos datos del pago.",
            "schema": {
              "$ref": "#/definitions/PaymentDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Pago actualizado exitosamente",
            "schema": {
              "$ref": "#/definitions/PaymentApiResponse"
            }
          },
          "404": {
            "description": "Pago no encontrado",
            "schema": {
              "$ref": "#/definitions/ProblemDetails"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Payment"
        ],
        "summary": "Elimina un pago del sistema.",
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "El identificador único del pago a eliminar.",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "204": {
            "description": "Pago eliminado exitosamente"
          },
          "404": {
            "description": "Pago no encontrado",
            "schema": {
              "$ref": "#/definitions/ProblemDetails"
            }
          }
        }
      }
    },
    "/api/Security": {
      "post": {
        "tags": [
          "Security"
        ],
        "consumes": [
          "application/json-patch+json",
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "schema": {
              "$ref": "#/definitions/SecurityDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Token": {
      "post": {
        "tags": [
          "Token"
        ],
        "consumes": [
          "application/json-patch+json",
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "schema": {
              "$ref": "#/definitions/UserLogin"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Topup": {
      "get": {
        "tags": [
          "Topup"
        ],
        "summary": "Obtiene una lista de recargas con soporte para paginación y filtros.",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Topup"
        ],
        "summary": "Inserta una nueva recarga en el sistema.",
        "consumes": [
          "application/json-patch+json",
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "DTO con la información de la recarga a insertar.",
            "schema": {
              "$ref": "#/definitions/TopupDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Topup/{id}": {
      "get": {
        "tags": [
          "Topup"
        ],
        "summary": "Obtiene una recarga específica por su identificador.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Identificador único de la recarga.",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": [
          "Topup"
        ],
        "summary": "Actualiza la información de una recarga existente.",
        "consumes": [
          "application/json-patch+json",
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Identificador único de la recarga a actualizar.",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "in": "body",
            "name": "body",
            "description": "DTO con la nueva información de la recarga.",
            "schema": {
              "$ref": "#/definitions/TopupDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "Topup"
        ],
        "summary": "Elimina una recarga del sistema.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Identificador único de la recarga a eliminar.",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Users": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Recupera una lista paginada de usuarios como objetos de transferencia de datos (DTO) según los filtros especificados.",
        "description": "Este método utiliza un mapeador para convertir las publicaciones recuperadas en DTO, que luego se \r\n            devuelven junto con la información de paginación. Si se produce un error durante el proceso, se devuelve un \r\n            código de estado 500 con los detalles del error.EasyTrufi.Api.Responses.ApiResponse`1",
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "Cedula",
            "type": "string"
          },
          {
            "in": "query",
            "name": "PageSize",
            "type": "integer",
            "format": "int32"
          },
          {
            "in": "query",
            "name": "PageNumber",
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "200": {
            "description": "Retorna la lista de usuarios en formato DTO",
            "schema": {
              "$ref": "#/definitions/UserDTOIEnumerableApiResponse"
            }
          },
          "404": {
            "description": "Not Found",
            "schema": {
              "$ref": "#/definitions/ProblemDetails"
            }
          },
          "400": {
            "description": "Bad Request",
            "schema": {
              "$ref": "#/definitions/ProblemDetails"
            }
          },
          "500": {
            "description": "Error interno del servidor"
          }
        }
      },
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "Inserta un nuevo usuario en el sistema.",
        "consumes": [
          "application/json-patch+json",
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "El objeto DTO que contiene los datos del usuario a insertar.",
            "schema": {
              "$ref": "#/definitions/UserDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Usuario creado exitosamente"
          },
          "400": {
            "description": "Datos inválidos para la creación del usuario"
          }
        }
      }
    },
    "/api/Users/{id}": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Recupera un usuario específico por su identificador único.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "El identificador único del usuario.",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "200": {
            "description": "Retorna el usuario solicitado"
          },
          "404": {
            "description": "Usuario no encontrado"
          }
        }
      },
      "put": {
        "tags": [
          "Users"
        ],
        "summary": "Actualiza los datos de un usuario existente.",
        "consumes": [
          "application/json-patch+json",
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "El identificador único del usuario a actualizar.",
            "required": true,
            "type": "integer",
            "format": "int32"
          },
          {
            "in": "body",
            "name": "body",
            "description": "El objeto DTO que contiene los nuevos datos del usuario.",
            "schema": {
              "$ref": "#/definitions/UserDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Usuario actualizado exitosamente"
          },
          "404": {
            "description": "Usuario no encontrado"
          }
        }
      },
      "delete": {
        "tags": [
          "Users"
        ],
        "summary": "Elimina un usuario del sistema.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "El identificador único del usuario a eliminar.",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "204": {
            "description": "Usuario eliminado exitosamente"
          },
          "404": {
            "description": "Usuario no encontrado"
          }
        }
      }
    },
    "/api/Users/{id}/verify-email": {
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "Marca el correo del usuario como verificado (EmailVerified = true).",
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Identificador del usuario a verificar.",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "Correo verificado y usuario retornado",
            "schema": {
              "$ref": "#/definitions/UserResponseDTOApiResponse"
            }
          },
          "404": {
            "description": "Usuario no encontrado",
            "schema": {
              "$ref": "#/definitions/ProblemDetails"
            }
          },
          "400": {
            "description": "Correo ya verificado",
            "schema": {
              "$ref": "#/definitions/ProblemDetails"
            }
          }
        }
      }
    },
    "/api/v{version}/users": {
      "get": {
        "tags": [
          "UsersV"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "version",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Validator": {
      "get": {
        "tags": [
          "Validator"
        ],
        "summary": "Obtiene una lista de validadores con soporte para paginación y filtros.",
        "parameters": [
          {
            "in": "query",
            "name": "ValidatorCode",
            "type": "string"
          },
          {
            "in": "query",
            "name": "VehicleId",
            "type": "string"
          },
          {
            "in": "query",
            "name": "LocationDescription",
            "type": "string"
          },
          {
            "in": "query",
            "name": "Active",
            "type": "boolean"
          },
          {
            "in": "query",
            "name": "PageSize",
            "type": "integer",
            "format": "int32"
          },
          {
            "in": "query",
            "name": "PageNumber",
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Validator"
        ],
        "summary": "Inserta un nuevo validador en el sistema.",
        "consumes": [
          "application/json-patch+json",
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "DTO con la información del validador a insertar.",
            "schema": {
              "$ref": "#/definitions/ValidatorDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Validator/{id}": {
      "get": {
        "tags": [
          "Validator"
        ],
        "summary": "Obtiene un validador específico por su identificador.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Identificador único del validador.",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": [
          "Validator"
        ],
        "summary": "Actualiza la información de un validador existente.",
        "consumes": [
          "application/json-patch+json",
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Identificador único del validador a actualizar.",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "in": "body",
            "name": "body",
            "description": "DTO con la nueva información del validador.",
            "schema": {
              "$ref": "#/definitions/ValidatorDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "Validator"
        ],
        "summary": "Elimina un validador del sistema.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Identificador único del validador a eliminar.",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/WeatherForecast": {
      "get": {
        "tags": [
          "WeatherForecast"
        ],
        "operationId": "GetWeatherForecast",
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/WeatherForecast"
              }
            }
          }
        }
      }
    }
  },
  "definitions": {
    "DriverDTO": {
      "type": "object",
      "properties": {
        "cedula": {
          "type": "string"
        },
        "fullName": {
          "type": "string"
        },
        "active": {
          "type": "boolean"
        }
      },
      "additionalProperties": false
    },
    "Message": {
      "type": "object",
      "properties": {
        "type": {
          "description": "Tipo del mensaje (e.g., Información, Advertencia, Error)",
          "type": "string"
        },
        "description": {
          "description": "Descripción detallada del mensaje",
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "NfcCard": {
      "type": "object",
      "properties": {
        "id": {
          "format": "int64",
          "type": "integer"
        },
        "uid": {
          "type": "string"
        },
        "userId": {
          "format": "int64",
          "type": "integer"
        },
        "active": {
          "type": "boolean"
        },
        "issuedAt": {
          "format": "date-time",
          "type": "string"
        },
        "payments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Payment"
          }
        },
        "topups": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Topup"
          }
        },
        "user": {
          "$ref": "#/definitions/User"
        }
      },
      "additionalProperties": false
    },
    "NfcCardApiResponse": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/NfcCard"
        },
        "pagination": {
          "$ref": "#/definitions/Pagination"
        },
        "messages": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Message"
          }
        }
      },
      "additionalProperties": false
    },
    "NfcCardDTO": {
      "type": "object",
      "properties": {
        "uid": {
          "type": "string"
        },
        "userId": {
          "format": "int64",
          "type": "integer"
        },
        "active": {
          "type": "boolean"
        }
      },
      "additionalProperties": false
    },
    "NfcCardDTOApiResponse": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/NfcCardDTO"
        },
        "pagination": {
          "$ref": "#/definitions/Pagination"
        },
        "messages": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Message"
          }
        }
      },
      "additionalProperties": false
    },
    "NfcCardDTOIEnumerableApiResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/NfcCardDTO"
          }
        },
        "pagination": {
          "$ref": "#/definitions/Pagination"
        },
        "messages": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Message"
          }
        }
      },
      "additionalProperties": false
    },
    "ObjectApiResponse": {
      "type": "object",
      "properties": {
        "data": { },
        "pagination": {
          "$ref": "#/definitions/Pagination"
        },
        "messages": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Message"
          }
        }
      },
      "additionalProperties": false
    },
    "Pagination": {
      "type": "object",
      "properties": {
        "totalCount": {
          "format": "int32",
          "description": "Número total de elementos en la colección",
          "type": "integer"
        },
        "pageSize": {
          "format": "int32",
          "description": "Cantidad de elementos por página",
          "type": "integer"
        },
        "currentPage": {
          "format": "int32",
          "description": "Número de la página actual",
          "type": "integer"
        },
        "totalPages": {
          "format": "int32",
          "description": "Número total de páginas",
          "type": "integer"
        },
        "hasNextPage": {
          "description": "Indica si existe una página siguiente",
          "type": "boolean"
        },
        "hasPreviousPage": {
          "description": "Indica si existe una página anterior",
          "type": "boolean"
        }
      },
      "additionalProperties": false
    },
    "Payment": {
      "type": "object",
      "properties": {
        "id": {
          "format": "int64",
          "type": "integer"
        },
        "nfcCardId": {
          "format": "int64",
          "type": "integer"
        },
        "userId": {
          "format": "int64",
          "type": "integer"
        },
        "amountCents": {
          "format": "int64",
          "type": "integer"
        },
        "validatorId": {
          "type": "string"
        },
        "createdAt": {
          "format": "date-time",
          "type": "string"
        },
        "nfcCard": {
          "$ref": "#/definitions/NfcCard"
        },
        "user": {
          "$ref": "#/definitions/User"
        },
        "validator": {
          "$ref": "#/definitions/Validator"
        }
      },
      "additionalProperties": false
    },
    "PaymentApiResponse": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/Payment"
        },
        "pagination": {
          "$ref": "#/definitions/Pagination"
        },
        "messages": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Message"
          }
        }
      },
      "additionalProperties": false
    },
    "PaymentDTO": {
      "type": "object",
      "properties": {
        "nfcCardId": {
          "format": "int64",
          "type": "integer"
        },
        "userId": {
          "format": "int64",
          "type": "integer"
        },
        "amountCents": {
          "format": "int64",
          "type": "integer"
        },
        "validatorId": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "PaymentDTOApiResponse": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/PaymentDTO"
        },
        "pagination": {
          "$ref": "#/definitions/Pagination"
        },
        "messages": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Message"
          }
        }
      },
      "additionalProperties": false
    },
    "PaymentDTOIEnumerableApiResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/PaymentDTO"
          }
        },
        "pagination": {
          "$ref": "#/definitions/Pagination"
        },
        "messages": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Message"
          }
        }
      },
      "additionalProperties": false
    },
    "ProblemDetails": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "status": {
          "format": "int32",
          "type": "integer"
        },
        "detail": {
          "type": "string"
        },
        "instance": {
          "type": "string"
        }
      },
      "additionalProperties": { }
    },
    "RoleType": {
      "format": "int32",
      "enum": [
        0,
        1
      ],
      "type": "integer"
    },
    "SecurityDTO": {
      "type": "object",
      "properties": {
        "login": {
          "type": "string"
        },
        "password": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "role": {
          "$ref": "#/definitions/RoleType"
        }
      },
      "additionalProperties": false
    },
    "Topup": {
      "type": "object",
      "properties": {
        "id": {
          "format": "int64",
          "type": "integer"
        },
        "nfcCardId": {
          "format": "int64",
          "type": "integer"
        },
        "userId": {
          "format": "int64",
          "type": "integer"
        },
        "amountCents": {
          "format": "int64",
          "type": "integer"
        },
        "method": {
          "type": "string"
        },
        "reference": {
          "type": "string"
        },
        "status": {
          "type": "string"
        },
        "createdAt": {
          "format": "date-time",
          "type": "string"
        },
        "completedAt": {
          "format": "date-time",
          "type": "string"
        },
        "nfcCard": {
          "$ref": "#/definitions/NfcCard"
        },
        "user": {
          "$ref": "#/definitions/User"
        }
      },
      "additionalProperties": false
    },
    "TopupDTO": {
      "type": "object",
      "properties": {
        "nfcCardId": {
          "format": "int64",
          "type": "integer"
        },
        "userId": {
          "format": "int64",
          "type": "integer"
        },
        "amountCents": {
          "format": "int64",
          "type": "integer"
        },
        "method": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "User": {
      "type": "object",
      "properties": {
        "id": {
          "format": "int64",
          "type": "integer"
        },
        "cedula": {
          "description": "Número de Cédula de Identidad (C.I.) del usuario",
          "type": "string"
        },
        "fullName": {
          "description": "Nombre completo del usuario (Nombres y Apellidos)",
          "type": "string"
        },
        "dateOfBirth": {
          "format": "date",
          "description": "Fecha de nacimiento (usado para validar edad o descuentos)",
          "type": "string"
        },
        "email": {
          "description": "Dirección de correo electrónico del usuario",
          "type": "string"
        },
        "passwordHash": {
          "description": "Hash encriptado de la contraseña del usuario",
          "type": "string"
        },
        "emailVerified": {
          "description": "Indica si el usuario ha verificado su correo electrónico",
          "type": "boolean"
        },
        "createdAt": {
          "format": "date-time",
          "description": "Fecha de registro del usuario en el sistema",
          "type": "string"
        },
        "updatedAt": {
          "format": "date-time",
          "description": "Fecha de la última modificación de los datos del usuario",
          "type": "string"
        },
        "nfcCards": {
          "description": "Lista de tarjetas NFC vinculadas a este usuario",
          "type": "array",
          "items": {
            "$ref": "#/definitions/NfcCard"
          }
        },
        "payments": {
          "description": "Historial de pagos de pasajes realizados",
          "type": "array",
          "items": {
            "$ref": "#/definitions/Payment"
          }
        },
        "topups": {
          "description": "Historial de recargas de crédito en la cuenta",
          "type": "array",
          "items": {
            "$ref": "#/definitions/Topup"
          }
        }
      },
      "additionalProperties": false
    },
    "UserDTO": {
      "type": "object",
      "properties": {
        "cedula": {
          "type": "string"
        },
        "fullName": {
          "type": "string"
        },
        "dateOfBirth": {
          "format": "date",
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "passwordHash": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "UserDTOIEnumerableApiResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/UserDTO"
          }
        },
        "pagination": {
          "$ref": "#/definitions/Pagination"
        },
        "messages": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Message"
          }
        }
      },
      "additionalProperties": false
    },
    "UserLogin": {
      "type": "object",
      "properties": {
        "user": {
          "description": "Nombre de usuario o identificador empleado para el inicio de sesión",
          "type": "string"
        },
        "password": {
          "description": "Contraseña del usuario",
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "UserResponseDTO": {
      "type": "object",
      "properties": {
        "cedula": {
          "type": "string"
        },
        "fullName": {
          "type": "string"
        },
        "dateOfBirth": {
          "format": "date",
          "type": "string"
        },
        "email": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "UserResponseDTOApiResponse": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/UserResponseDTO"
        },
        "pagination": {
          "$ref": "#/definitions/Pagination"
        },
        "messages": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Message"
          }
        }
      },
      "additionalProperties": false
    },
    "Validator": {
      "type": "object",
      "properties": {
        "id": {
          "format": "int64",
          "type": "integer"
        },
        "validatorCode": {
          "description": "Código único de identificación del dispositivo validador",
          "type": "string"
        },
        "vehicleId": {
          "description": "Placa o ID del trufi/miniván asociado",
          "type": "string"
        },
        "locationDescription": {
          "description": "Descripción operativa (Ej: 'Línea 210 - Trufi 45')",
          "type": "string"
        },
        "active": {
          "description": "Indica si el validador está habilitado para procesar cobros",
          "type": "boolean"
        },
        "createdAt": {
          "format": "date-time",
          "description": "Fecha de registro e instalación del validador",
          "type": "string"
        },
        "updatedAt": {
          "format": "date-time",
          "description": "Fecha de última actualización de datos del dispositivo",
          "type": "string"
        },
        "payments": {
          "description": "Colección de transacciones realizadas en este validador",
          "type": "array",
          "items": {
            "$ref": "#/definitions/Payment"
          }
        }
      },
      "additionalProperties": false
    },
    "ValidatorDTO": {
      "type": "object",
      "properties": {
        "validatorCode": {
          "description": "Código único de identificación del dispositivo validador",
          "type": "string"
        },
        "vehicleId": {
          "description": "Placa o ID del trufi/miniván asociado",
          "type": "string"
        },
        "locationDescription": {
          "description": "Descripción operativa (Ej: 'Línea 210 - Trufi 45')",
          "type": "string"
        },
        "active": {
          "description": "Indica si el validador está habilitado para procesar cobros",
          "type": "boolean"
        }
      },
      "additionalProperties": false
    },
    "WeatherForecast": {
      "type": "object",
      "properties": {
        "date": {
          "format": "date",
          "type": "string"
        },
        "temperatureC": {
          "format": "int32",
          "type": "integer"
        },
        "temperatureF": {
          "format": "int32",
          "type": "integer",
          "readOnly": true
        },
        "summary": {
          "type": "string"
        }
      },
      "additionalProperties": false
    }
  }
}